<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Tracker SI UNIKAMA</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
</head>
<body>

<div class="container">
    <h2>Project Tracker SI UNIKAMA</h2>
    <div id="homePage">
        <div class="header-tools">
            <input type="text" id="searchInput" placeholder="ðŸ” Cari nama tugas atau matkul..." oninput="renderProjects()">
        </div>
        <div class="filter-group">
            <button class="filter-btn" onclick="setFilter('all', this)">Semua</button>
            <button class="filter-btn active" onclick="setFilter(0, this)">Hari Ini</button>
            <button class="filter-btn" onclick="setFilter(1, this)">1 Hari</button>
            <button class="filter-btn" onclick="setFilter(3, this)">3 Hari</button>
            <button class="filter-btn" onclick="setFilter(5, this)">5 Hari</button>
            <button class="filter-btn" onclick="setFilter(7, this)">1 Minggu</button>
        </div>
        <button class="btn-add" onclick="openAddModal()">+ Tambah Tugas Baru</button>
        <div id="projectList"></div>
    </div>
</div>

<div id="formModal" class="modal">
    <div class="modal-content">
        <h3 id="modalTitle" style="margin-top:0; color:var(--primary)">Tambah Aktivitas</h3>
        <form id="projectForm" onsubmit="event.preventDefault(); saveProject();">
            <label>Mata Kuliah</label>
            <input type="text" id="mkName" required>
            <label>Nama Tugas / Proyek</label>
            <input type="text" id="taskName" required>
            <label>Deadline</label>
            <input type="datetime-local" id="deadline" onchange="setMinAlarm()" required>
            <label>Waktu Alarm (Maks. 5 Menit Sebelum Deadline)</label>
            <input type="datetime-local" id="alarmTime" required>
            <label>Progress (%)</label>
            <input type="number" id="progress" min="0" max="100" value="0">
            <label>Catatan Tambahan</label>
            <textarea id="activity" rows="2"></textarea>
            <button type="submit" class="btn-add" style="margin-bottom:0">Simpan Data</button>
        </form>
        <button class="btn-close-modal" onclick="closeModal('formModal')">Batal</button>
    </div>
</div>

<div id="actionModal" class="modal">
    <div class="modal-content" style="text-align:center;">
        <h3 id="actionTargetName" style="margin-top:0; color:var(--primary);"></h3>
        <div class="action-grid">
            <button class="action-btn btn-done" onclick="markAsDone()">Selesai</button>
            <button class="action-btn btn-edit" onclick="prepareEdit()">Edit</button>
            <button class="action-btn btn-delete" onclick="openConfirmDelete()">Hapus</button>
        </div>
        <button class="btn-close-modal" onclick="closeModal('actionModal')">Tutup</button>
    </div>
</div>

<div id="deleteModal" class="modal">
    <div class="modal-content" style="text-align:center;">
        <h3 style="color:var(--danger)">Hapus Tugas?</h3>
        <div class="action-grid">
            <button class="action-btn btn-delete" onclick="executeDelete()">Hapus</button>
            <button class="action-btn" style="background:#ccc; color:black" onclick="closeModal('deleteModal')">Batal</button>
        </div>
    </div>
</div>

<div id="msgModal" class="modal">
    <div class="modal-content" style="text-align:center;">
        <h3 id="msgTitle">Pesan</h3>
        <p id="msgBody"></p>
        <button class="btn-add" onclick="closeModal('msgModal')">OK</button>
    </div>
</div>

<audio id="alarmSound" src="https://assets.mixkit.co/active_storage/sfx/2869/2869-preview.mp3" preload="auto" loop></audio>

<script src="app.js"></script>
</body>
</html>
